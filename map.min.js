var MapMarker=function(){function e(e){this.version="1.1.1";this.zoom=12;this.elementId="map-canvas";this.mapType="road";this.scrollwheel=false;this.centerPoint=e.centerPoint;this.zoom=e.zoom;this.markers=e.markers;this.elementId=e.elementId;this.mapType=e.mapType}e.prototype.createMap=function(){if(!google.maps){throw new Error("This plugin requires the google maps api to be included on the page. "+"Visit https://developers.google.com/maps/documentation/javascript/tutorial "+"for instructions.")}if(!this.markers||this.markers.length<1){throw new Error("options.markers is not a valid array.")}if(!this.centerPoint){this.centerPoint=this._calculateCenterPoint()}var e;switch(this.mapType){case"satellite":e=google.maps.MapTypeId.SATELLITE;break;case"terrain":e=google.maps.MapTypeId.TERRAIN;break;case"hybrid":e=google.maps.MapTypeId.HYBRID;break;case"road":default:e=google.maps.MapTypeId.ROADMAP}var t={center:new google.maps.LatLng(this.centerPoint.lat,this.centerPoint.lng),mapTypeId:e,scrollwheel:this.scrollwheel,zoom:this.zoom};this.map=new google.maps.Map(document.getElementById(this.elementId),t);this._addMarkersToMap()};e.prototype._calculateCenterPoint=function(){var e=this.markers;var t=e.length;var a,r,o,n;var i,l;if(t>1){e.sort(function(e,t){return e.latLng.lat-t.latLng.lat});a=e[0].latLng.lat;r=e[t-1].latLng.lat;console.log(a,r);e.sort(function(e,t){return e.latLng.lng-t.latLng.lng});o=e[0].latLng.lng;n=e[t-1].latLng.lng;i=(a+r)/2;l=(o+n)/2}else{i=e[0].latLng.lat;l=e[0].latLng.lng}return{lat:i,lng:l}};e.prototype._addMarkersToMap=function(){var e=this.markers;var t=0;for(var a=0;a<e.length;a++){var r=e[a];var o={lat:r.latLng.lat,lng:r.latLng.lng},n=void 0,i=void 0,l=r.marker,s=r.title,g=void 0;if(r.size){n=r.size.w;i=r.size.h}if(l.indexOf("/")===-1){l="http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|"+l;n=21;i=34}if(!o.lat){throw new Error("mapConfig.markers.latLng"+" is not defined. Array Index = "+t)}g=new google.maps.Marker({icon:new google.maps.MarkerImage(l,new google.maps.Size(n,i)),map:this.map,position:new google.maps.LatLng(o.lat,o.lng),title:s,zindex:t});t++}};return e}();